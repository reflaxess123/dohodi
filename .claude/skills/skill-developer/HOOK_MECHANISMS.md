# –ú–µ—Ö–∞–Ω–∏–∑–º—ã —Ö—É–∫–æ–≤ - –ì–ª—É–±–æ–∫–æ–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ

–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –≥–ª—É–±–æ–∫–æ–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ –≤ —Ä–∞–±–æ—Ç—É —Ö—É–∫–æ–≤ UserPromptSubmit –∏ PreToolUse.

## –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

- [–ü–æ—Ç–æ–∫ —Ö—É–∫–∞ UserPromptSubmit](#–ø–æ—Ç–æ–∫-—Ö—É–∫–∞-userpromptsubmit)
- [–ü–æ—Ç–æ–∫ —Ö—É–∫–∞ PreToolUse](#–ø–æ—Ç–æ–∫-—Ö—É–∫–∞-pretooluse)
- [–ü–æ–≤–µ–¥–µ–Ω–∏–µ –∫–æ–¥–æ–≤ –≤—ã—Ö–æ–¥–∞ (–ö–†–ò–¢–ò–ß–ù–û)](#–ø–æ–≤–µ–¥–µ–Ω–∏–µ-–∫–æ–¥–æ–≤-–≤—ã—Ö–æ–¥–∞-–∫—Ä–∏—Ç–∏—á–Ω–æ)
- [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Å–µ—Å—Å–∏–∏](#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—Å–æ—Å—Ç–æ—è–Ω–∏–µ–º-—Å–µ—Å—Å–∏–∏)
- [–°–æ–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏](#—Å–æ–æ–±—Ä–∞–∂–µ–Ω–∏—è-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)

---

## –ü–æ—Ç–æ–∫ —Ö—É–∫–∞ UserPromptSubmit

### –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–æ–º–ø—Ç
    ‚Üì
.claude/settings.json —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ö—É–∫
    ‚Üì
skill-activation-prompt.sh –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
    ‚Üì
npx tsx skill-activation-prompt.ts
    ‚Üì
–•—É–∫ —á–∏—Ç–∞–µ—Ç stdin (JSON —Å –ø—Ä–æ–º–ø—Ç–æ–º)
    ‚Üì
–ó–∞–≥—Ä—É–∂–∞–µ—Ç skill-rules.json
    ‚Üì
–°–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ + –ø–∞—Ç—Ç–µ—Ä–Ω—ã –Ω–∞–º–µ—Ä–µ–Ω–∏–π
    ‚Üì
–ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É (critical ‚Üí high ‚Üí medium ‚Üí low)
    ‚Üì
–í—ã–≤–æ–¥–∏—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ stdout
    ‚Üì
stdout —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –¥–ª—è Claude (–∏–Ω–∂–µ–∫—Ç–∏—Ä—É–µ—Ç—Å—è –ø–µ—Ä–µ–¥ –ø—Ä–æ–º–ø—Ç–æ–º)
    ‚Üì
Claude –≤–∏–¥–∏—Ç: [–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Å–∫–∏–ª–ª–∞] + –ø—Ä–æ–º–ø—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

### –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã

- **–ö–æ–¥ –≤—ã—Ö–æ–¥–∞**: –í—Å–µ–≥–¥–∞ 0 (—Ä–∞–∑—Ä–µ—à–∏—Ç—å)
- **stdout**: ‚Üí –ö–æ–Ω—Ç–µ–∫—Å—Ç Claude (–∏–Ω–∂–µ–∫—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ —Å–∏—Å—Ç–µ–º–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ)
- **–í—Ä–µ–º—è**: –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –î–û –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–æ–º–ø—Ç–∞ Claude
- **–ü–æ–≤–µ–¥–µ–Ω–∏–µ**: –ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–π, —Ç–æ–ª—å–∫–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω—ã–π
- **–¶–µ–ª—å**: –°–¥–µ–ª–∞—Ç—å Claude –æ—Å–≤–µ–¥–æ–º–ª—ë–Ω–Ω—ã–º –æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Å–∫–∏–ª–ª–∞—Ö

### –§–æ—Ä–º–∞—Ç –≤–≤–æ–¥–∞

```json
{
  "session_id": "abc-123",
  "transcript_path": "/path/to/transcript.json",
  "cwd": "/root/git/your-project",
  "permission_mode": "normal",
  "hook_event_name": "UserPromptSubmit",
  "prompt": "–∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞ layout?"
}
```

### –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞ (–≤ stdout)

```
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üéØ –ü–†–û–í–ï–†–ö–ê –ê–ö–¢–ò–í–ê–¶–ò–ò –°–ö–ò–õ–õ–û–í
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üìö –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–´–ï –°–ö–ò–õ–õ–´:
  ‚Üí project-catalog-developer

–î–ï–ô–°–¢–í–ò–ï: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç Skill –ü–ï–†–ï–î –æ—Ç–≤–µ—Ç–æ–º
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
```

Claude –≤–∏–¥–∏—Ç —ç—Ç–æ—Ç –≤—ã–≤–æ–¥ –∫–∞–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –ø—Ä–æ–º–ø—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

---

## –ü–æ—Ç–æ–∫ —Ö—É–∫–∞ PreToolUse

### –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

```
Claude –≤—ã–∑—ã–≤–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç Edit/Write
    ‚Üì
.claude/settings.json —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ö—É–∫ (matcher: Edit|Write)
    ‚Üì
skill-verification-guard.sh –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
    ‚Üì
npx tsx skill-verification-guard.ts
    ‚Üì
–•—É–∫ —á–∏—Ç–∞–µ—Ç stdin (JSON —Å tool_name, tool_input)
    ‚Üì
–ó–∞–≥—Ä—É–∂–∞–µ—Ç skill-rules.json
    ‚Üì
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø—É—Ç–µ–π —Ñ–∞–π–ª–æ–≤ (glob —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ)
    ‚Üì
–ß–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª –¥–ª—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (–µ—Å–ª–∏ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
    ‚Üì
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Å—Å–∏–∏ (–±—ã–ª –ª–∏ —Å–∫–∏–ª–ª —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω?)
    ‚Üì
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å–ª–æ–≤–∏—è –ø—Ä–æ–ø—É—Å–∫–∞ (–º–∞—Ä–∫–µ—Ä—ã —Ñ–∞–π–ª–æ–≤, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è)
    ‚Üì
–ï–°–õ–ò –°–û–í–ü–ê–î–ê–ï–¢ –ò –ù–ï –ü–†–û–ü–£–©–ï–ù:
  –û–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Å—Å–∏–∏ (–æ—Ç–º–µ—á–∞–µ—Ç —Å–∫–∏–ª–ª –∫–∞–∫ –ø—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã–π)
  –í—ã–≤–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –≤ stderr
  –í—ã—Ö–æ–¥–∏—Ç —Å –∫–æ–¥–æ–º 2 (–ë–õ–û–ö–ò–†–û–í–ö–ê)
–ò–ù–ê–ß–ï:
  –í—ã—Ö–æ–¥–∏—Ç —Å –∫–æ–¥–æ–º 0 (–†–ê–ó–†–ï–®–ò–¢–¨)
    ‚Üì
–ï–°–õ–ò –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù–û:
  stderr ‚Üí Claude –≤–∏–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ
  –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç Edit/Write –ù–ï –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
  Claude –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫–∏–ª–ª –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å
–ï–°–õ–ò –†–ê–ó–†–ï–®–ï–ù–û:
  –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ
```

### –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã

- **–ö–æ–¥ –≤—ã—Ö–æ–¥–∞ 2**: –ë–õ–û–ö–ò–†–û–í–ö–ê (stderr ‚Üí Claude)
- **–ö–æ–¥ –≤—ã—Ö–æ–¥–∞ 0**: –†–ê–ó–†–ï–®–ò–¢–¨
- **–í—Ä–µ–º—è**: –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –î–û –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
- **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏**: –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –≤ –æ–¥–Ω–æ–π —Å–µ—Å—Å–∏–∏
- **–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å**: –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—é (–Ω–µ –ª–æ–º–∞–µ—Ç —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å)
- **–¶–µ–ª—å**: –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞—â–∏—Ç

### –§–æ—Ä–º–∞—Ç –≤–≤–æ–¥–∞

```json
{
  "session_id": "abc-123",
  "transcript_path": "/path/to/transcript.json",
  "cwd": "/root/git/your-project",
  "permission_mode": "normal",
  "hook_event_name": "PreToolUse",
  "tool_name": "Edit",
  "tool_input": {
    "file_path": "/root/git/your-project/form/src/services/user.ts",
    "old_string": "...",
    "new_string": "..."
  }
}
```

### –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞ (–≤ stderr –ø—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ)

```
‚ö†Ô∏è –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù–û - –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

üìã –¢–†–ï–ë–£–ï–ú–û–ï –î–ï–ô–°–¢–í–ò–ï:
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç Skill: 'database-verification'
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –í–°–ï –∏–º–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü –∏ –∫–æ–ª–æ–Ω–æ–∫ –ø–æ —Å—Ö–µ–º–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥–∞–º–∏ DESCRIBE
4. –ó–∞—Ç–µ–º –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ —ç—Ç–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–∏—á–∏–Ω–∞: –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –≤ –∏–º–µ–Ω–∞—Ö –∫–æ–ª–æ–Ω–æ–∫ –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö Prisma
–§–∞–π–ª: form/src/services/user.ts

üí° –°–û–í–ï–¢: –î–æ–±–∞–≤—å—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π '// @skip-validation' –¥–ª—è –ø—Ä–æ–ø—É—Å–∫–∞ –±—É–¥—É—â–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
```

Claude –ø–æ–ª—É—á–∞–µ—Ç —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –ø–æ–Ω–∏–º–∞–µ—Ç, —á—Ç–æ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫–∏–ª–ª –ø–µ—Ä–µ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø–æ–ø—ã—Ç–∫–æ–π —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

---

## –ü–æ–≤–µ–¥–µ–Ω–∏–µ –∫–æ–¥–æ–≤ –≤—ã—Ö–æ–¥–∞ (–ö–†–ò–¢–ò–ß–ù–û)

### –°–ø—Ä–∞–≤–æ—á–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –∫–æ–¥–æ–≤ –≤—ã—Ö–æ–¥–∞

| –ö–æ–¥ –≤—ã—Ö–æ–¥–∞ | stdout | stderr | –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ | Claude –≤–∏–¥–∏—Ç |
|------------|--------|--------|------------------------|--------------|
| 0 (UserPromptSubmit) | ‚Üí –ö–æ–Ω—Ç–µ–∫—Å—Ç | ‚Üí –¢–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å | –ù/–î | —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ stdout |
| 0 (PreToolUse) | ‚Üí –¢–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å | ‚Üí –¢–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å | **–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è** | –ù–∏—á–µ–≥–æ |
| 2 (PreToolUse) | ‚Üí –¢–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å | ‚Üí **CLAUDE** | **–ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù–û** | —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ stderr |
| –î—Ä—É–≥–æ–π | ‚Üí –¢–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å | ‚Üí –¢–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å | –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ | –ù–∏—á–µ–≥–æ |

### –ü–æ—á–µ–º—É –∫–æ–¥ –≤—ã—Ö–æ–¥–∞ 2 –≤–∞–∂–µ–Ω

–≠—Ç–æ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è –ø—Ä–∏–Ω—É–∂–¥–µ–Ω–∏—è:

1. **–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–±** –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ Claude –∏–∑ PreToolUse
2. –°–æ–¥–µ—Ä–∂–∏–º–æ–µ stderr "–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è Claude"
3. Claude –≤–∏–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∏ –ø–æ–Ω–∏–º–∞–µ—Ç, —á—Ç–æ –¥–µ–ª–∞—Ç—å
4. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–æ
5. –ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –ø—Ä–∏–Ω—É–∂–¥–µ–Ω–∏—è –∑–∞—â–∏—Ç–Ω—ã—Ö —Å–∫–∏–ª–ª–æ–≤

### –ü—Ä–∏–º–µ—Ä –ø–æ—Ç–æ–∫–∞ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "–î–æ–±–∞–≤—å –Ω–æ–≤—ã–π user —Å–µ—Ä–≤–∏—Å —Å Prisma"

Claude: "–Ø —Å–æ–∑–¥–∞–º user —Å–µ—Ä–≤–∏—Å..."
    [–ü—ã—Ç–∞–µ—Ç—Å—è Edit form/src/services/user.ts]

–•—É–∫ PreToolUse: [–ö–æ–¥ –≤—ã—Ö–æ–¥–∞ 2]
    stderr: "‚ö†Ô∏è –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù–û - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ database-verification"

Claude –≤–∏–¥–∏—Ç –æ—à–∏–±–∫—É, –æ—Ç–≤–µ—á–∞–µ—Ç:
    "–ú–Ω–µ –Ω—É–∂–Ω–æ —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ö–µ–º—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö."
    [–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç Skill: database-verification]
    [–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∏–º–µ–Ω–∞ –∫–æ–ª–æ–Ω–æ–∫]
    [–ü–æ–≤—Ç–æ—Ä—è–µ—Ç Edit - —Ç–µ–ø–µ—Ä—å —Ä–∞–∑—Ä–µ—à–µ–Ω–æ (–æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏)]
```

---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Å–µ—Å—Å–∏–∏

### –¶–µ–ª—å

–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –≤ –æ–¥–Ω–æ–π —Å–µ—Å—Å–∏–∏ - –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–∫–∏–ª–ª–∞ Claude –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è —Å–Ω–æ–≤–∞.

### –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è

`.claude/hooks/state/skills-used-{session_id}.json`

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è

```json
{
  "skills_used": [
    "database-verification",
    "error-tracking"
  ],
  "files_verified": []
}
```

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü–µ—Ä–≤–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** —Ñ–∞–π–ª–∞ —Å Prisma:
   - –•—É–∫ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å –∫–æ–¥–æ–º –≤—ã—Ö–æ–¥–∞ 2
   - –û–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Å—Å–∏–∏: –¥–æ–±–∞–≤–ª—è–µ—Ç "database-verification" –≤ skills_used
   - Claude –≤–∏–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∫–∏–ª–ª

2. **–í—Ç–æ—Ä–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** (—Ç–∞ –∂–µ —Å–µ—Å—Å–∏—è):
   - –•—É–∫ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Å—Å–∏–∏
   - –ù–∞—Ö–æ–¥–∏—Ç "database-verification" –≤ skills_used
   - –í—ã—Ö–æ–¥–∏—Ç —Å –∫–æ–¥–æ–º 0 (—Ä–∞–∑—Ä–µ—à–∏—Ç—å)
   - –ù–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è Claude

3. **–î—Ä—É–≥–∞—è —Å–µ—Å—Å–∏—è**:
   - –ù–æ–≤—ã–π session ID = –Ω–æ–≤—ã–π —Ñ–∞–π–ª —Å–æ—Å—Ç–æ—è–Ω–∏—è
   - –•—É–∫ —Å–Ω–æ–≤–∞ –±–ª–æ–∫–∏—Ä—É–µ—Ç

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ

–•—É–∫ –Ω–µ –º–æ–∂–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–æ–≥–¥–∞ —Å–∫–∏–ª–ª *—Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏* –≤—ã–∑–≤–∞–Ω - –æ–Ω –ø—Ä–æ—Å—Ç–æ –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ–¥–∏–Ω —Ä–∞–∑ –∑–∞ —Å–µ—Å—Å–∏—é –∑–∞ —Å–∫–∏–ª–ª. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:

- –ï—Å–ª–∏ Claude –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∫–∏–ª–ª, –Ω–æ –¥–µ–ª–∞–µ—Ç –¥—Ä—É–≥–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ–Ω –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä—É–µ—Ç —Å–Ω–æ–≤–∞
- –î–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ Claude —Å–ª–µ–¥—É–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
- –ë—É–¥—É—â–µ–µ —É–ª—É—á—à–µ–Ω–∏–µ: –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ Skill

---

## –°–æ–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –¶–µ–ª–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

- **UserPromptSubmit**: < 100–º—Å
- **PreToolUse**: < 200–º—Å

### –£–∑–∫–∏–µ –º–µ—Å—Ç–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

1. **–ó–∞–≥—Ä—É–∑–∫–∞ skill-rules.json** (–ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏)
   - –ë—É–¥—É—â–µ–µ: –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å –≤ –ø–∞–º—è—Ç–∏
   - –ë—É–¥—É—â–µ–µ: –°–ª–µ–¥–∏—Ç—å –∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏, –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

2. **–ß—Ç–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Ñ–∞–π–ª–∞** (PreToolUse)
   - –¢–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã contentPatterns
   - –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
   - –ú–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–º –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤

3. **Glob —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ** (PreToolUse)
   - –ö–æ–º–ø–∏–ª—è—Ü–∏—è regex –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞
   - –ë—É–¥—É—â–µ–µ: –ö–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å –æ–¥–∏–Ω —Ä–∞–∑, –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å

4. **Regex —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ** (–û–±–∞ —Ö—É–∫–∞)
   - –ü–∞—Ç—Ç–µ—Ä–Ω—ã –Ω–∞–º–µ—Ä–µ–Ω–∏–π (UserPromptSubmit)
   - –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (PreToolUse)
   - –ë—É–¥—É—â–µ–µ: –õ–µ–Ω–∏–≤–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö regex

### –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

**–£–º–µ–Ω—å—à–∏—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª–µ–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã (–º–µ–Ω—å—à–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏)
- –û–±—ä–µ–¥–∏–Ω—è–π—Ç–µ –ø–æ—Ö–æ–∂–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ

**–ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—É—Ç–µ–π —Ñ–∞–π–ª–æ–≤:**
- –ë–æ–ª–µ–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ = –º–µ–Ω—å—à–µ —Ñ–∞–π–ª–æ–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
- –ü—Ä–∏–º–µ—Ä: `form/src/services/**` –ª—É—á—à–µ —á–µ–º `form/**`

**–ü–∞—Ç—Ç–µ—Ä–Ω—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞:**
- –î–æ–±–∞–≤–ª—è–π—Ç–µ —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ
- –ë–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–æ–π regex = –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ

---

**–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- [SKILL.md](SKILL.md) - –ì–ª–∞–≤–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–∫–∏–ª–ª–∞–º
- [TROUBLESHOOTING.md](TROUBLESHOOTING.md) - –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º —Ö—É–∫–æ–≤
- [SKILL_RULES_REFERENCE.md](SKILL_RULES_REFERENCE.md) - –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
